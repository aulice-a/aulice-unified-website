---
layout: base.html
title: Banking Professional Simulator
permalink: /banking-simulator/
---

<div class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="banking-course container mx-auto p-8 bg-white shadow-2xl rounded-2xl border border-gray-200">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800">Banking Professional Simulator</h1>
            <p class="text-lg text-gray-500 mt-2">Test your financial acumen and decision-making.</p>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 shadow-inner flex flex-col justify-between">
                <div>
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">Situation <span id="situation-number">1</span>/10</h2>
                    <div class="scrollable-content">
                        <p id="situation-text" class="text-gray-600 leading-relaxed text-base fade-in">
                            </p>
                    </div>
                </div>
                <div class="mt-6 text-center">
                    <p class="text-2xl font-extrabold text-green-600">Score: <span id="score">100</span></p>
                    <p id="score-change-indicator" class="text-sm font-semibold mt-1 opacity-0 score-change">
                        </p>
                </div>
            </div>

            <div class="flex flex-col">
                <div class="grid grid-cols-1 gap-4 mb-6">
                    <button class="option-btn bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition-colors transform hover:scale-105 duration-200" data-option-index="0">Option 1</button>
                    <button class="option-btn bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition-colors transform hover:scale-105 duration-200" data-option-index="1">Option 2</button>
                    <button class="option-btn bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition-colors transform hover:scale-105 duration-200" data-option-index="2">Option 3</button>
                    <button class="option-btn bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition-colors transform hover:scale-105 duration-200" data-option-index="3">Option 4</button>
                </div>
                
                <div id="outcome-container" class="bg-gray-50 p-6 rounded-xl border border-gray-200 shadow-inner hidden fade-in">
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">Outcome:</h3>
                    <p id="outcome-text" class="text-gray-600 leading-relaxed text-base">
                        </p>
                </div>

                <button id="next-situation-btn" class="mt-6 bg-green-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition-colors transform hover:scale-105 duration-200 hidden">Next Situation</button>
            </div>
        </main>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {

        // Utility function to shuffle an array (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        const situations = [
            {
                title: "High-Value Client System Error",
                situation: "A high-net-worth client with a large portfolio calls, panicked, because their online account shows a balance of $0.00. Your legacy system has a known, rare glitch that can temporarily misrepresent balances. The client is threatening to move all their assets to a competitor within the hour.",
                options: [
                    { text: "Calmly explain the known system glitch and assure them it will be corrected shortly.", outcome: "The client is a top priority. Your explanation and assurance buys you time to correct the issue, and their trust is maintained through a personalized follow-up. A solid solution that prioritizes client relationships.", scoreChange: +20 },
                    { text: "Immediately escalate the issue to the IT department without speaking to the client.", outcome: "The client is left waiting with no information, increasing their anxiety. They become frustrated and begin the process of moving their assets before the issue is resolved. You failed to manage the client's expectations.", scoreChange: -25 },
                    { text: "Transfer the client to a senior manager to handle the complaint.", outcome: "While an option, it shows a lack of confidence and personal responsibility. The client feels passed off and their relationship with you is weakened, even if the issue is resolved.", scoreChange: -10 },
                    { text: "Offer a significant, immediate fee waiver as an apology.", outcome: "This is a knee-jerk, expensive reaction. The issue is a simple glitch, and overcompensating sets a bad precedent for future interactions. This is a costly mistake.", scoreChange: -15 }
                ]
            },
            {
                title: "Small Business Loan Application",
                situation: "A new small business owner applies for a critical loan. Their business plan is solid, but their personal credit history is weak. They are not a long-standing customer, and the loan amount is at the upper end of your risk threshold. They are a referral from a respected local business leader.",
                options: [
                    { text: "Approve the loan with a slightly higher interest rate and a strict repayment plan.", outcome: "You approve the loan on modified terms, mitigating your risk while giving the business a chance to succeed. You secure a new client and strengthen ties with the local business community. A balanced and successful decision.", scoreChange: +25 },
                    { text: "Decline the loan immediately based on the credit score.", outcome: "You decline the loan, avoiding all risk but also losing a potential long-term client and damaging your reputation with a key community leader. A safe but shortsighted approach.", scoreChange: -20 },
                    { text: "Ask the business leader to co-sign the loan.", outcome: "The business leader is insulted by the request, as it questions their judgment. They withdraw the referral, and the business owner takes their banking elsewhere. A major social misstep.", scoreChange: -30 },
                    { text: "Offer a much smaller loan that is insufficient for their business needs.", outcome: "The business owner is frustrated by the low offer and feels you don't take their business seriously. They turn to a competitor who offers them the full amount, and you lose a customer. A missed opportunity.", scoreChange: -15 }
                ]
            },
            {
                title: "Sudden Market Volatility",
                situation: "A major, unexpected geopolitical event causes a sudden plunge in the stock market. You have many clients with significant holdings in affected sectors. Your phone lines are ringing off the hook, and clients are demanding immediate action on their portfolios.",
                options: [
                    { text: "Advise clients to remain calm and avoid panic selling, while reviewing their portfolios for potential adjustments.", outcome: "You maintain a steady hand and guide your clients away from emotional, knee-jerk reactions. Their portfolios are protected from major losses, and they trust your long-term strategy. A wise and calming choice.", scoreChange: +30 },
                    { text: "Sell all affected holdings to minimize immediate losses.", outcome: "You sell at the bottom of the market, locking in massive losses for your clients. As the market rebounds, they realize their assets were liquidated prematurely, leading to widespread client dissatisfaction and a loss of trust.", scoreChange: -40 },
                    { text: "Do nothing and wait for the market to stabilize.", outcome: "Your inaction is seen as a failure of leadership. Clients feel you are not on their side and have abandoned them during a crisis. Many move their money to other firms. A passive and failing strategy.", scoreChange: -20 },
                    { text: "Contact only your largest clients and prioritize their portfolios.", outcome: "You neglect your smaller clients, who feel undervalued and unheard. While you save your biggest accounts, you damage your reputation with a broad segment of your customer base. A poor allocation of resources.", scoreChange: -15 }
                ]
            },
            {
                title: "Potential Cyberattack Threat",
                situation: "Your bank's security team detects unusual activity on the network, consistent with the early stages of a known ransomware attack. The team recommends taking the entire system offline to prevent a breach, which would halt all transactions for up to 24 hours.",
                options: [
                    { text: "Immediately initiate a system lockdown and notify customers of a temporary service outage.", outcome: "The lockdown successfully prevents the attack, protecting customer data and the bank's integrity. While the temporary outage is an inconvenience, customers appreciate the transparency and your proactive security measures. An effective, responsible decision.", scoreChange: +35 },
                    { text: "Wait for the attack to be confirmed before taking any action.", outcome: "The attack is confirmed, but it's too late. The ransomware encrypts critical bank data and customer information, leading to massive financial losses and a severe breach of trust. A catastrophic failure.", scoreChange: -50 },
                    { text: "Keep the system online but increase monitoring and security protocols.", outcome: "The hackers are one step ahead. They bypass your new protocols, and the attack succeeds. While not as bad as doing nothing, it still results in a major security incident and a loss of customer data. A risky and flawed choice.", scoreChange: -30 },
                    { text: "Isolate only the affected network segments instead of the entire system.", outcome: "The hackers have infiltrated multiple parts of the network, and your partial isolation fails to contain the threat. Customer data is compromised in a limited but still damaging way. A partial failure.", scoreChange: -20 }
                ]
            },
            {
                title: "Customer Fraud Report",
                situation: "A long-standing customer calls to report a $5,000 fraudulent charge on their credit card. Your system's initial check indicates the transaction was made using their legitimate card and PIN at an ATM. They insist they did not make the transaction.",
                options: [
                    { text: "Open a full investigation and temporarily credit their account while it's being reviewed.", outcome: "You demonstrate trust and prioritize the client's peace of mind. The investigation uncovers a sophisticated skimming device at the ATM. The customer is grateful for your quick action and remains a loyal client. A fair and smart choice.", scoreChange: +25 },
                    { text: "Tell the customer the transaction appears legitimate and they are responsible for the charge.", outcome: "The customer is furious, closes their account, and files a complaint with a regulatory body. You lose a valuable client and are flagged for poor customer service. A cold and costly response.", scoreChange: -35 },
                    { text: "Ask the customer to provide a signed statement and all available evidence.", outcome: "This places the burden of proof on the customer and makes them feel like a suspect. They feel you are not on their side, and their trust in the bank is severely damaged.", scoreChange: -15 },
                    { text: "Immediately close the customer's account and issue a new card.", outcome: "You resolve the immediate fraud risk, but the customer is inconvenienced by the closed account and new card. You failed to address their core concern and showed a lack of empathy.", scoreChange: -10 }
                ]
            },
            {
                title: "New Digital Platform Launch",
                situation: "Your bank has invested millions in a new, user-friendly digital banking platform. However, two months after launch, customer adoption is very low. Most clients, especially older demographics, are sticking to the old mobile app and online banking portal.",
                options: [
                    { text: "Launch an educational campaign with tutorials and in-branch assistance for new users.", outcome: "You address the core problem by making the transition easy for your clients. Adoption rates increase, and customers feel supported, leading to greater loyalty. A proactive and customer-focused approach.", scoreChange: +20 },
                    { text: "Phase out the old platform to force customers onto the new one.", outcome: "This creates mass frustration. Many customers, unable or unwilling to learn the new system, close their accounts and move to a competitor with a more familiar platform. A disastrous, heavy-handed tactic.", scoreChange: -30 },
                    { text: "Offer a financial incentive, like a bonus or a rate hike, for using the new platform.", outcome: "While this works in the short term, it creates a bad precedent. Customers will expect to be paid to use new features. It also doesn't solve the underlying issue of ease of use. A costly temporary fix.", scoreChange: -10 },
                    { text: "Do nothing and wait for adoption rates to slowly increase.", outcome: "The new platform becomes a sunk cost with little to no return on investment. The bank's reputation for innovation is damaged, and you lose market share to more nimble competitors. A major strategic blunder.", scoreChange: -25 }
                ]
            },
            {
                title: "Compliance Audit Issue",
                situation: "A routine compliance audit uncovers a widespread but minor procedural error in how new accounts are opened. While not a major regulatory violation, it is a risk that could lead to penalties if not corrected. The correction requires significant staff time and re-training.",
                options: [
                    { text: "Immediately correct the procedure and retrain all relevant staff, then self-report the issue to regulators.", outcome: "Your proactive and transparent approach demonstrates integrity to regulators. The issue is resolved quickly, and while there's a minor internal cost, you avoid larger fines and reputational damage. A responsible and effective decision.", scoreChange: +25 },
                    { text: "Try to hide the issue and hope the next audit doesn't find it.", outcome: "The next audit uncovers the uncorrected error. You are now seen as a non-compliant institution and face severe regulatory fines and sanctions. A dishonest and disastrous path.", scoreChange: -40 },
                    { text: "Fix the procedure but do not self-report the issue to regulators.", outcome: "While you fix the problem, a future audit discovers the past error and the lack of self-reporting. You still face regulatory penalties for lack of transparency and are no longer seen as a trusted partner. A major mistake.", scoreChange: -20 },
                    { text: "Ignore the issue and hope it goes away.", outcome: "The error leads to a larger problem down the line, resulting in customer data being mishandled. You face legal repercussions, regulatory fines, and a massive loss of trust. A complete failure of judgment.", scoreChange: -50 }
                ]
            },
            {
                title: "Corporate Client Financing Request",
                situation: "A large corporate client requests a complex, non-standard financing solution for a new venture. The request is unconventional and falls outside your bank’s normal product offerings. The client has a history of high profitability and is threatening to go to a competitor if you can't meet their needs.",
                options: [
                    { text: "Assemble a specialized team to create a custom financing solution for the client.", outcome: "You show flexibility and a commitment to your most important clients. The specialized team devises a creative and compliant solution, securing a major deal and setting a precedent for future custom products. A bold and successful move.", scoreChange: +30 },
                    { text: "Tell the client you cannot meet their request and refer them to another bank.", outcome: "You avoid a difficult challenge but lose a major client and their future business. You are seen as a rigid institution that cannot adapt to evolving needs. A timid and costly failure.", scoreChange: -25 },
                    { text: "Decline the request but offer a simplified, standard loan as an alternative.", outcome: "The client feels you didn't listen to their specific needs. They reject the offer and take their business to a bank that provides the solution they asked for. You lose the client and the deal. A missed opportunity.", scoreChange: -15 },
                    { text: "Offer a partial solution that only meets some of their needs.", outcome: "The partial solution does not solve the client's core problem, so they are not satisfied. The client still moves to a competitor, and your relationship is damaged. A half-hearted and ineffective response.", scoreChange: -20 }
                ]
            },
            {
                title: "Public Relations Crisis",
                situation: "A news outlet publishes a scathing article alleging that your bank's algorithms are biased against a specific demographic, leading to lower loan approval rates. While the claim is based on a misinterpretation of data, it has gone viral on social media and is causing public outrage.",
                options: [
                    { text: "Issue a transparent statement explaining the algorithms and offer to meet with community leaders to discuss the issue.", outcome: "You address the public's concern directly and with transparency. By explaining the data and engaging with the community, you restore your bank's reputation and demonstrate your commitment to fairness. A strong and effective response.", scoreChange: +35 },
                    { text: "Deny the claims and threaten legal action against the news outlet.", outcome: "Your aggressive response fuels the public's suspicion. The news outlet doubles down, and the story gains more traction. You are now seen as an institution that is trying to hide something. A defensive and damaging action.", scoreChange: -40 },
                    { text: "Ignore the article and hope the story fades away.", outcome: "The story does not fade. The public outrage grows, leading to protests and calls for boycotts. Your brand is severely damaged, and you are forced to spend millions on a PR campaign to recover. A passive and failing strategy.", scoreChange: -50 },
                    { text: "Apologize for the 'misperception' without admitting fault.", outcome: "Your half-hearted apology is seen as insincere and fuels the public's anger. You satisfy neither your customers nor the community, and the crisis deepens. A cowardly and ineffective response.", scoreChange: -25 }
                ]
            },
            {
                title: "Global Economic Downturn",
                situation: "A global economic downturn is causing an increase in loan default rates across your portfolio. Your risk management team recommends a strict and immediate tightening of all lending criteria, which would severely impact new business growth.",
                options: [
                    { text: "Implement a tiered approach, tightening lending for high-risk sectors while maintaining flexibility for stable ones.", outcome: "You balance risk mitigation with business growth. This strategic approach protects your portfolio from the worst impacts of the downturn while allowing you to capitalize on opportunities in less affected sectors. A smart and balanced decision.", scoreChange: +25 },
                    { text: "Tighten all lending criteria across the board, regardless of sector.", outcome: "This is a safe but overly cautious approach. While it reduces defaults, it also halts all new business, causing a major drop in revenue and market share. A shortsighted and overly rigid response.", scoreChange: -20 },
                    { text: "Maintain existing lending criteria to keep the business flowing.", outcome: "Your loan default rate skyrockets. Your portfolio is crippled by bad debt, leading to massive financial losses and a lack of liquidity. A reckless and irresponsible choice.", scoreChange: -50 },
                    { text: "Offer loan forbearance and restructuring options to at-risk clients.", outcome: "This helps some clients but exposes the bank to greater risk. Many clients are not able to repay their loans even with a new structure, and the defaults continue to mount. A well-intentioned but flawed plan.", scoreChange: -15 }
                ]
            }
        ];

        let score = 100;
        let currentSituationIndex = 0;
        let currentOptions = []; // Stores the shuffled options for the current question

        const scoreElement = document.getElementById('score');
        const situationNumberElement = document.getElementById('situation-number');
        const situationTextElement = document.getElementById('situation-text');
        const optionButtons = document.querySelectorAll('.option-btn');
        const outcomeContainer = document.getElementById('outcome-container');
        const outcomeTextElement = document.getElementById('outcome-text');
        const nextSituationBtn = document.getElementById('next-situation-btn');
        const scoreChangeIndicator = document.getElementById('score-change-indicator');

        // Function to update the score display with a transition
        function updateScoreDisplay(newScore, change) {
            const isPositive = change > 0;
            scoreElement.textContent = newScore;
            scoreChangeIndicator.textContent = `${isPositive ? '+' : ''}${change}`;
            scoreChangeIndicator.classList.remove('text-green-600', 'text-red-600', 'opacity-0');
            scoreChangeIndicator.classList.add(isPositive ? 'text-green-600' : 'text-red-600', 'fade-in');
            setTimeout(() => {
                scoreChangeIndicator.classList.add('opacity-0');
            }, 1000);
        }

        // Function to load the current situation (UPDATED for randomization)
        function loadSituation() {
            if (currentSituationIndex >= situations.length) {
                showFinalScore();
                return;
            }
            const situation = situations[currentSituationIndex];
            
            // --- Shuffle the options for randomization ---
            currentOptions = shuffleArray([...situation.options]);
            // ---------------------------------------------

            // Hide outcome and button
            outcomeContainer.classList.add('hidden');
            nextSituationBtn.classList.add('hidden');
            
            // Reset buttons and their listeners
            optionButtons.forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
                btn.classList.add('bg-blue-600', 'hover:bg-blue-700', 'transform', 'hover:scale-105', 'duration-200');
            });
            
            // Set situation number and text
            situationNumberElement.textContent = currentSituationIndex + 1;
            situationTextElement.classList.remove('fade-in');
            void situationTextElement.offsetWidth; // Trigger reflow to restart animation
            situationTextElement.textContent = situation.situation;
            situationTextElement.classList.add('fade-in');

            // Set option button texts using the SHUFFLED array
            currentOptions.forEach((option, index) => {
                optionButtons[index].textContent = option.text;
            });
        }

        // Function to handle option clicks (UPDATED for randomization)
        function handleOptionClick(event) {
            // Disable all option buttons after a choice is made
            optionButtons.forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('bg-blue-600', 'hover:bg-blue-700', 'transform', 'hover:scale-105', 'duration-200');
                btn.classList.add('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
            });
            
            const optionIndex = parseInt(event.target.dataset.optionIndex, 10);
            
            // --- Use the SHUFFLED options array to get the result ---
            const chosenOption = currentOptions[optionIndex];
            // --------------------------------------------------------
            
            // Update score and display change
            score += chosenOption.scoreChange;
            updateScoreDisplay(score, chosenOption.scoreChange);

            // Display outcome
            outcomeTextElement.textContent = chosenOption.outcome;
            outcomeContainer.classList.remove('hidden');
            nextSituationBtn.classList.remove('hidden');
        }

        // --- MODIFIED FUNCTION TO HANDLE REDIRECTION (Supabase Integration Point) ---
        function showFinalScore() {
            // NOTE: This is where you will re-integrate your Supabase/database logging logic
            // to store the score and user progress before redirection.
            
            // Save the final score and the profession (Banking Professional Simulator) to local storage
            localStorage.setItem('finalScore', score);
            localStorage.setItem('profession', 'Banking Professional Simulator');
            
            // Redirect the user to the static results page, passing the score in the query
            window.location.href = `/leaderlab-results/?score=${score}`;
        }
        // ----------------------------------------------

        // Attach event listeners
        optionButtons.forEach(btn => {
            btn.addEventListener('click', handleOptionClick);
        });

        nextSituationBtn.addEventListener('click', () => {
            currentSituationIndex++;
            loadSituation();
        });

        // Initial load
        loadSituation();
    });
</script>