---
layout: base.html
title: Cabin Crew Simulator
permalink: /cabin-crew-simulator/
---

<div class="bg-gray-100 flex flex-col items-center min-h-screen">
    <header class="fixed top-0 left-0 right-0 z-50 bg-white shadow-lg py-4 px-8 flex justify-between items-center">
        <nav class="flex space-x-6 text-gray-700 font-medium">
            <a href="https://www.aulice.ca/" target="_blank" class="hover:text-gray-800 transition-colors duration-200">Gate</a>
            <a href="https://aulice-about.netlify.app/" target="_blank" class="hover:text-gray-800 transition-colors duration-200">About us</a>
            <a href="https://aulice-pricing-plans.netlify.app/" target="_blank" class="hover:text-gray-800 transition-colors duration-200">Pricing Plans</a>
            <a href="https://aulice-lexicon.netlify.app/" target="_blank" class="hover:text-gray-800 transition-colors duration-200">Lexicon</a>
            <a href="https://aulice-teacher-dashboard.netlify.app/" target="_blank" class="hover:text-gray-800 transition-colors duration-200">Teacher</a>
            <a href="https://aulice-contact.netlify.app/" target="_blank" class="hover:text-gray-800 transition-colors duration-200">Contact</a>
        </nav>
        <button id="share-btn" class="text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-colors" style="background-color: var(--course-primary-color);">
            Share
        </button>
    </header>

    <div class="cabin-crew-course container mx-auto p-8 bg-white shadow-2xl rounded-2xl border border-gray-200 mt-20">
        <div id="game-container">
            <header class="text-center mb-8">
                <h1 class="text-4xl font-bold text-gray-800">Cabin Crew Simulator</h1>
                <p class="text-lg text-gray-500 mt-2">Navigate challenging situations with professionalism and grace.</p>
            </header>

            <main class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 shadow-inner flex flex-col justify-between">
                    <div>
                        <h2 class="text-2xl font-semibold text-gray-700 mb-4">Situation <span id="situation-number">1</span>/10</h2>
                        <div class="scrollable-content">
                            <p id="situation-text" class="text-gray-600 leading-relaxed text-base fade-in">
                                </p>
                        </div>
                    </div>
                    <div class="mt-6 text-center">
                        <p class="text-2xl font-extrabold" style="color: var(--course-primary-color);">Score: <span id="score">100</span></p>
                        <p id="score-change-indicator" class="text-sm font-semibold mt-1 opacity-0 score-change">
                            </p>
                    </div>
                </div>

                <div class="flex flex-col">
                    <div id="option-buttons-container" class="grid grid-cols-1 gap-4 mb-6">
                        <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color);" data-option-index="0">Option 1</button>
                        <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color);" data-option-index="1">Option 2</button>
                        <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color);" data-option-index="2">Option 3</button>
                        <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color);" data-option-index="3">Option 4</button>
                    </div>
                    
                    <div id="outcome-container" class="bg-gray-50 p-6 rounded-xl border border-gray-200 shadow-inner hidden fade-in">
                        <h3 class="text-xl font-semibold text-gray-700 mb-2">Outcome:</h3>
                        <p id="outcome-text" class="text-gray-600 leading-relaxed text-base">
                            </p>
                    </div>

                    <div id="final-buttons" class="flex flex-col md:flex-row gap-4 mt-6">
                        <button id="next-situation-btn" class="flex-1 bg-green-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition-colors transform hover:scale-105 duration-200 hidden">Next Situation</button>
                    </div>
                </div>
            </main>
        </div>

        <div id="shared-score-container" class="text-center p-8 hidden">
            <h2 class="text-5xl font-extrabold text-gray-800 mb-4">Cabin Crew Simulator</h2>
            <p class="text-2xl font-medium text-gray-600 mb-2">Someone wants to share their score with you!</p>
            <p class="text-7xl font-black mt-8 mb-8" style="color: var(--course-primary-color);">Score: <span id="shared-score"></span></p>
            <p class="text-lg text-gray-500 max-w-md mx-auto mb-8">This is the final score they achieved. Are you ready to beat it?</p>
            <button id="play-now-btn" class="text-white font-semibold py-3 px-8 rounded-full shadow-lg transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color);">Play Now!</button>
        </div>

        <div id="message-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center hidden z-50">
            <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full text-center">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Link Copied!</h3>
                <p class="text-gray-600 mb-6">The shareable link has been copied to your clipboard. Share it with your friends!</p>
                <button id="close-modal-btn" class="text-white font-semibold py-2 px-6 rounded-lg transition-colors" style="background-color: var(--course-primary-color);">Close</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // Utility function to shuffle an array (Fisher-Yates)
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            const situations = [
                {
                    title: "The Anxious Flyer",
                    situation: "A passenger is having a severe panic attack during takeoff. They are crying and hyperventilating, and they want to get off the plane immediately.",
                    options: [
                        { text: "Remain calm, speak in a soothing voice, explain that takeoff is a normal part of the flight, and offer them a glass of water and a pillow to help them relax. Then, stay with them for a few minutes to ensure they feel safe and secure.", outcome: "You prioritize passenger comfort and safety. You show empathy and professionalism by addressing the passenger's needs without compromising flight procedures. This is the correct and professional course of action.", scoreChange: +40 },
                        { text: "Tell them to calm down and stop being a nuisance to the other passengers.", outcome: "You show a complete lack of empathy and professionalism. The passenger leaves a scathing review, and you lose their business forever. An unprofessional and shortsighted choice.", scoreChange: -30 },
                        { text: "Call the flight deck and tell them to turn the plane around.", outcome: "You are not a professional who is willing to manage a difficult situation. You are putting the flight at risk. A dangerous and unprofessional choice.", scoreChange: -40 },
                        { text: "Tell them that they can't do anything about it and they should have thought about their fear before they booked the flight.", outcome: "You show a complete lack of professionalism and empathy. You are not attempting to solve the problem. An unhelpful and unprofessional choice.", scoreChange: -30 }
                    ]
                },
                {
                    title: "The Disruptive Passenger",
                    situation: "A passenger refuses to put their electronic device on airplane mode during takeoff and landing. They are being rude and condescending.",
                    options: [
                        { text: "Politely but firmly explain the safety regulations and the potential risks of not complying. If they still refuse, calmly inform the lead cabin crew and the flight deck to handle the situation.", outcome: "You prioritize passenger safety and airline regulations. You enforce the rules without escalating the situation. This is the correct and professional choice.", scoreChange: +35 },
                        { text: "Yell at the passenger and tell them to put their device on airplane mode or you will have to get a security guard.", outcome: "You are escalating the situation and putting yourself and others at risk. An unprofessional and dangerous choice.", scoreChange: -40 },
                        { text: "Ignore the passenger and hope they put their device on airplane mode.", outcome: "You are not addressing a serious safety hazard. You are putting the flight and all of its passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -40 },
                        { text: "Tell the passenger that they can do whatever they want with their device as long as they don't cause a scene.", outcome: "You are not upholding airline safety regulations. You are putting the flight and all of its passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -50 }
                    ]
                },
                {
                    title: "The Sick Passenger",
                    situation: "A passenger in the back of the plane is visibly ill and is coughing and sneezing uncontrollably. They are refusing to wear a mask.",
                    options: [
                        { text: "Politely ask the passenger to wear a mask to protect others. Offer them a mask and a blanket, and then offer to move the passengers around them to a different seat.", outcome: "You prioritize passenger safety and comfort. You show empathy and professionalism by addressing the passenger's needs while also protecting other passengers. A correct and professional choice.", scoreChange: +30 },
                        { text: "Tell the passenger to put on a mask or you will call the flight deck and have them removed from the plane.", outcome: "You are escalating the situation and putting yourself and others at risk. An unprofessional and dangerous choice.", scoreChange: -25 },
                        { text: "Ignore the passenger and hope they get better.", outcome: "You are not addressing a serious safety hazard. You are putting other passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -40 },
                        { text: "Tell the passenger that they can't do anything about their illness and they should have stayed home.", outcome: "You show a complete lack of professionalism and empathy. You are not attempting to solve the problem. An unhelpful and unprofessional choice.", scoreChange: -30 }
                    ]
                },
                {
                    title: "The Drunk Passenger",
                    situation: "A visibly intoxicated passenger is being loud and disruptive. They are trying to get more alcohol from you, but you know that they are over the limit.",
                    options: [
                        { text: "Politely refuse to serve them more alcohol, and explain the airline's policy on alcohol consumption. Offer them a non-alcoholic beverage and a snack to help them sober up.", outcome: "You prioritize passenger safety and airline regulations. You enforce the rules without escalating the situation. This is the correct and professional choice.", scoreChange: +35 },
                        { text: "Give them another drink to calm them down and avoid a scene.", outcome: "You are putting the passenger and others at risk by serving them more alcohol. An irresponsible and unprofessional choice.", scoreChange: -50 },
                        { text: "Tell them that they are drunk and that you will not serve them anymore alcohol.", outcome: "You are not managing your guest's expectations or needs. You are being unhelpful and unprofessional. A shortsighted and unhelpful response.", scoreChange: -25 },
                        { text: "Ignore them and hope they pass out.", outcome: "You are not addressing a serious safety hazard. You are putting other passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -40 }
                    ]
                },
                {
                    title: "The Unruly Child",
                    situation: "A young child is crying uncontrollably and screaming during the flight. The parents are visibly embarrassed and stressed out.",
                    options: [
                        { text: "Politely ask the parents if they need anything to help them calm the child. Offer the child a toy, a book, or a snack to distract them.", outcome: "You prioritize passenger comfort and safety. You show empathy and professionalism by addressing the passenger's needs without compromising flight procedures. This is the correct and professional course of action.", scoreChange: +30 },
                        { text: "Tell the parents that they need to control their child or you will have to call the flight deck and have them removed from the plane.", outcome: "You are escalating the situation and putting yourself and others at risk. An unprofessional and dangerous choice.", scoreChange: -40 },
                        { text: "Tell the other passengers that you are sorry for the noise and that you can't do anything about it.", outcome: "You are not addressing the problem. You are showing a lack of professionalism and a fear of confrontation. A passive and unhelpful response.", scoreChange: -20 },
                        { text: "Ignore the child and hope they stop crying.", outcome: "You are not addressing a serious safety hazard. You are putting other passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -30 }
                    ]
                },
                {
                    title: "The Passenger with a Problem",
                    situation: "A passenger approaches you with a problem about their seat. They are being rude and demanding, and they are not happy with your response.",
                    options: [
                        { text: "Remain calm and professional, and politely ask them to explain the problem. Offer them a new seat if possible, or offer them a complimentary beverage to appease them.", outcome: "You prioritize passenger comfort and safety. You show empathy and professionalism by addressing the passenger's needs without compromising flight procedures. This is the correct and professional course of action.", scoreChange: +30 },
                        { text: "Yell at the passenger and tell them to stop being so rude.", outcome: "You are escalating the situation and putting yourself and others at risk. An unprofessional and dangerous choice.", scoreChange: -40 },
                        { text: "Tell them that you can't do anything about their problem.", outcome: "You are not addressing the problem. You are showing a lack of professionalism and a fear of confrontation. A passive and unhelpful response.", scoreChange: -25 },
                        { text: "Ignore them and hope they go away.", outcome: "You are not addressing a serious safety hazard. You are putting other passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -30 }
                    ]
                },
                {
                    title: "The Food Complaint",
                    situation: "A passenger complains that the food is cold and inedible. They are being very rude and demanding, and they want a full refund for their meal.",
                    options: [
                        { text: "Politely apologize for the inconvenience and offer to replace the meal with a new one. If a new meal is not available, offer them a complimentary snack or a drink to appease them.", outcome: "You prioritize passenger comfort and safety. You show empathy and professionalism by addressing the passenger's needs without compromising flight procedures. This is the correct and professional course of action.", scoreChange: +25 },
                        { text: "Tell them that you can't replace the meal and you can't give them a refund because you are not in charge of the food.", outcome: "You are not addressing the problem. You are showing a lack of professionalism and a fear of confrontation. A passive and unhelpful response.", scoreChange: -25 },
                        { text: "Yell at the passenger and tell them to stop being so rude.", outcome: "You are escalating the situation and putting yourself and others at risk. An unprofessional and dangerous choice.", scoreChange: -40 },
                        { text: "Tell them that they can't do anything about their problem and they should have brought their own food.", outcome: "You show a complete lack of professionalism and empathy. You are not attempting to solve the problem. An unhelpful and unprofessional choice.", scoreChange: -30 }
                    ]
                },
                {
                    title: "The Lost Item",
                    situation: "A passenger comes to you and says that they have lost their wallet on the plane. They are panicking and they are worried about their money and credit cards.",
                    options: [
                        { text: "Remain calm and professional, and ask them to explain where they last saw the wallet. Help them look for it, and then if you can't find it, offer to help them fill out a lost and found form.", outcome: "You prioritize passenger comfort and safety. You show empathy and professionalism by addressing the passenger's needs without compromising flight procedures. This is the correct and professional course of action.", scoreChange: +40 },
                        { text: "Tell them that they are a grown-up and they should have been more careful with their belongings.", outcome: "You show a complete lack of professionalism and empathy. You are not a professional who is willing to help a passenger in a crisis. An unethical and cruel choice.", scoreChange: -50 },
                        { text: "Tell them that you can't do anything about it and they should have called the police.", outcome: "You are not addressing the problem. You are showing a lack of professionalism and a fear of confrontation. A passive and unhelpful response.", scoreChange: -30 },
                        { text: "Ignore them and hope they go away.", outcome: "You are not addressing a serious safety hazard. You are putting other passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -20 }
                    ]
                },
                {
                    title: "The Medical Emergency",
                    situation: "A passenger suddenly collapses in the aisle. They are unconscious and they are not breathing.",
                    options: [
                        { text: "Immediately call for help from other crew members and the flight deck. Begin to administer first aid and CPR, and then notify the flight deck to prepare for an emergency landing.", outcome: "You prioritize passenger safety above all else. You take swift and decisive action to save a life. This is the correct and ethical course of action.", scoreChange: +50 },
                        { text: "Call for help, but then wait for the flight deck to tell you what to do.", outcome: "You are not taking swift and decisive action. You are wasting time when a life is on the line. An irresponsible and unprofessional choice.", scoreChange: -40 },
                        { text: "Tell the other passengers to get out of the way and then try to help the person yourself without any assistance.", outcome: "You are putting yourself and others at risk by attempting a rescue you are not qualified to do without assistance. A reckless and unprofessional choice.", scoreChange: -30 },
                        { text: "Ignore them and hope they get better.", outcome: "You are not addressing a serious safety hazard. You are putting another passenger's life at risk. An irresponsible and unprofessional choice.", scoreChange: -50 }
                    ]
                },
                {
                    title: "The Unhappy Passenger",
                    situation: "A passenger is very unhappy with their seat assignment. They are being rude and demanding, and they are not happy with your response.",
                    options: [
                        { text: "Remain calm and professional, and politely explain that you can't change their seat. Offer them a complimentary beverage to appease them.", outcome: "You prioritize passenger comfort and safety. You show empathy and professionalism by addressing the passenger's needs without compromising flight procedures. This is the correct and professional course of action.", scoreChange: +30 },
                        { text: "Yell at the passenger and tell them to stop being so rude.", outcome: "You are escalating the situation and putting yourself and others at risk. An unprofessional and dangerous choice.", scoreChange: -40 },
                        { text: "Tell them that you can't do anything about their seat and they should have chosen a different seat when they booked the flight.", outcome: "You show a complete lack of professionalism and empathy. You are not attempting to solve the problem. An unhelpful and unprofessional choice.", scoreChange: -30 },
                        { text: "Ignore them and hope they go away.", outcome: "You are not addressing a serious safety hazard. You are putting other passengers at risk. An irresponsible and unprofessional choice.", scoreChange: -20 }
                    ]
                }
            ];

            let score = 100;
            let currentSituationIndex = 0;
            let currentOptions = []; // Stores the shuffled options for the current question

            const scoreElement = document.getElementById('score');
            const situationNumberElement = document.getElementById('situation-number');
            const situationTextElement = document.getElementById('situation-text');
            const optionButtons = document.querySelectorAll('.option-btn');
            const outcomeContainer = document.getElementById('outcome-container');
            const outcomeTextElement = document.getElementById('outcome-text');
            const nextSituationBtn = document.getElementById('next-situation-btn');
            const scoreChangeIndicator = document.getElementById('score-change-indicator');
            const shareBtn = document.getElementById('share-btn');
            const gameContainer = document.getElementById('game-container');
            const sharedScoreContainer = document.getElementById('shared-score-container');
            const sharedScoreElement = document.getElementById('shared-score');
            const playNowBtn = document.getElementById('play-now-btn');
            const messageModal = document.getElementById('message-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const optionButtonsContainer = document.getElementById('option-buttons-container');

            // Function to update the score display with a transition
            function updateScoreDisplay(newScore, change) {
                const isPositive = change > 0;
                scoreElement.textContent = newScore;
                scoreChangeIndicator.textContent = `${isPositive ? '+' : ''}${change}`;
                scoreChangeIndicator.classList.remove('text-green-600', 'text-red-600', 'opacity-0');
                scoreChangeIndicator.classList.add(isPositive ? 'text-green-600' : 'text-red-600', 'fade-in');
                setTimeout(() => {
                    scoreChangeIndicator.classList.add('opacity-0');
                }, 1000);
            }

            // Function to load the current situation (UPDATED for randomization)
            function loadSituation() {
                if (currentSituationIndex >= situations.length) {
                    showFinalScore();
                    return;
                }
                const situation = situations[currentSituationIndex];
                
                // --- Shuffle the options for randomization ---
                currentOptions = shuffleArray([...situation.options]);
                // ---------------------------------------------
                
                // Hide outcome and button
                outcomeContainer.classList.add('hidden');
                nextSituationBtn.classList.add('hidden');
                optionButtonsContainer.classList.remove('hidden'); // Ensure options are visible

                // Reset buttons and their listeners
                optionButtons.forEach(btn => {
                    btn.disabled = false;
                    btn.classList.remove('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
                    btn.classList.add('transition-colors', 'transform', 'hover:scale-105', 'duration-200');
                    // Ensure the inline style for course color is reset
                    btn.style.backgroundColor = 'var(--course-primary-color)'; 
                });
                
                // Set situation number and text
                situationNumberElement.textContent = currentSituationIndex + 1;
                situationTextElement.classList.remove('fade-in');
                void situationTextElement.offsetWidth; // Trigger reflow to restart animation
                situationTextElement.textContent = situation.situation;
                situationTextElement.classList.add('fade-in');

                // Set option button texts using the SHUFFLED array
                currentOptions.forEach((option, index) => {
                    optionButtons[index].textContent = option.text;
                });
            }

            // Function to handle option clicks (UPDATED for randomization)
            function handleOptionClick(event) {
                // Disable all option buttons after a choice is made
                optionButtons.forEach(btn => {
                    btn.disabled = true;
                    btn.classList.remove('transition-colors', 'transform', 'hover:scale-105', 'duration-200');
                    btn.classList.add('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
                    // Remove inline style on disabled buttons for neutral gray look
                    btn.style.backgroundColor = ''; 
                });
                
                const optionIndex = parseInt(event.target.dataset.optionIndex, 10);
                
                // --- Use the SHUFFLED options array to get the result ---
                const chosenOption = currentOptions[optionIndex];
                // --------------------------------------------------------
                
                // Update score and display change
                score += chosenOption.scoreChange;
                updateScoreDisplay(score, chosenOption.scoreChange);

                // Display outcome
                outcomeTextElement.textContent = chosenOption.outcome;
                outcomeContainer.classList.remove('hidden');
                nextSituationBtn.classList.remove('hidden');
            }

            // --- UPDATED FINAL SCORE FUNCTION ---
            function showFinalScore() {
                // Save the final score and the profession to local storage
                localStorage.setItem('finalScore', score);
                localStorage.setItem('profession', 'Cabin Crew Simulator');
                
                // Redirect the user to the static results page
                window.location.href = `/leaderlab-results/?score=${score}`;
            }
            // ----------------------------------------------
            
            // Function to show the share modal
            function showShareModal() {
                messageModal.classList.remove('hidden');
            }

            // Function to handle the fallback for copying to clipboard
            function fallbackCopyTextToClipboard(text) {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.top = "0";
                textArea.style.left = "0";
                textArea.style.opacity = "0";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                } catch (err) {
                    console.error('Fallback: Oops, unable to copy', err);
                }
                document.body.removeChild(textArea);
            }

            // Share button event listener
            shareBtn.addEventListener('click', () => {
                const link = window.location.href;
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(link).then(() => {
                        showShareModal();
                    }, (err) => {
                        fallbackCopyTextToClipboard(link);
                        showShareModal();
                    });
                } else {
                    fallbackCopyTextToClipboard(link);
                    showShareModal();
                }
            });

            // Close modal button event listener
            closeModalBtn.addEventListener('click', () => {
                messageModal.classList.add('hidden');
            });

            // --- URL Parameter Handling for Shared View ---
            const urlParams = new URLSearchParams(window.location.search);
            const sharedScore = urlParams.get('score');

            if (sharedScore) {
                gameContainer.classList.add('hidden');
                sharedScoreContainer.classList.remove('hidden');
                sharedScoreElement.textContent = sharedScore;
                shareBtn.classList.add('hidden');
            } else {
                gameContainer.classList.remove('hidden');
                sharedScoreContainer.classList.add('hidden');
                shareBtn.classList.remove('hidden');
            }

            // Play Now button action (for the shared view)
            playNowBtn.addEventListener('click', () => {
                window.location.href = window.location.pathname; // Reload the page without the score parameter
            });
            // ----------------------------------------------

            // Attach event listeners for the game
            optionButtons.forEach(btn => {
                btn.addEventListener('click', handleOptionClick);
            });

            nextSituationBtn.addEventListener('click', () => {
                currentSituationIndex++;
                loadSituation();
            });

            // Initial load only if not in shared view
            if (!sharedScore) {
                loadSituation();
            }
        });
    </script>
</div>