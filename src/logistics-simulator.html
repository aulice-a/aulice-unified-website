---
layout: base.html
title: Logistics Coordinator Simulator
permalink: /logistics-simulator/
---

<div class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="logistics-course container mx-auto p-8 bg-white shadow-2xl rounded-2xl border border-gray-200">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800">Logistics Coordinator Simulator</h1>
            <p class="text-lg text-gray-500 mt-2">Test your decision-making under pressure.</p>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 shadow-inner flex flex-col justify-between">
                <div>
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">Situation <span id="situation-number">1</span>/10</h2>
                    <div class="scrollable-content">
                        <p id="situation-text" class="text-gray-600 leading-relaxed text-base fade-in">
                            </p>
                    </div>
                </div>
                <div class="mt-6 text-center">
                    <p class="text-2xl font-extrabold" style="color: var(--course-primary-color);">Score: <span id="score">100</span></p>
                    <p id="score-change-indicator" class="text-sm font-semibold mt-1 opacity-0 score-change">
                        </p>
                </div>
            </div>

            <div class="flex flex-col">
                <div class="grid grid-cols-1 gap-4 mb-6">
                    <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color); --tw-ring-color: var(--course-primary-color);" data-option-index="0">Option 1</button>
                    <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color); --tw-ring-color: var(--course-primary-color);" data-option-index="1">Option 2</button>
                    <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color); --tw-ring-color: var(--course-primary-color);" data-option-index="2">Option 3</button>
                    <button class="option-btn text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors transform hover:scale-105 duration-200" style="background-color: var(--course-primary-color); --tw-ring-color: var(--course-primary-color);" data-option-index="3">Option 4</button>
                </div>
                
                <div id="outcome-container" class="bg-gray-50 p-6 rounded-xl border border-gray-200 shadow-inner hidden fade-in">
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">Outcome:</h3>
                    <p id="outcome-text" class="text-gray-600 leading-relaxed text-base">
                        </p>
                </div>

                <button id="next-situation-btn" class="mt-6 bg-green-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition-colors transform hover:scale-105 duration-200 hidden">Next Situation</button>
            </div>
        </main>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {

        // Utility function to shuffle an array (Fisher-Yates) - ADDED FOR RANDOMIZATION
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        const situations = [
            {
                title: "Medical Supplies in Transit",
                situation: "A vital shipment of medical supplies is en route when a severe landslide blocks the primary highway. The supplies are needed at the hospital in less than 24 hours. The driver is stopped and awaiting instructions. A passive approach will result in mission failure. Your team is looking to you for a solution to get the shipment to its destination on time.",
                options: [
                    { text: "Divert to a longer, secondary land route.", outcome: "The secondary route adds 6 hours to the journey, but the shipment arrives intact and on time. You successfully avoided the immediate threat.", scoreChange: +20 },
                    { text: "Arrange an emergency air freight shipment.", outcome: "The air freight is expensive and complex to coordinate, but it bypasses the roadblock entirely. The shipment arrives well ahead of schedule, though at a high cost to the company.", scoreChange: +10 },
                    { text: "Instruct the driver to wait for the landslide to be cleared.", outcome: "The landslide clearance takes over 36 hours. The shipment is critically delayed, and the hospital is forced to use its emergency reserves. A major failure.", scoreChange: -30 },
                    { text: "Attempt to navigate a dangerous, unpaved back road.", outcome: "The back road is treacherous. The truck gets stuck, and a portion of the supplies are damaged. The situation is now even more critical and requires a costly rescue operation.", scoreChange: -40 }
                ]
            },
            {
                title: "Port Congestion Crisis",
                situation: "A container ship carrying critical electronic components for a major tech company is delayed at a congested port. Production at your client's factory is at risk of shutting down within 48 hours without these parts. The ship is currently waiting to be offloaded.",
                options: [
                    { text: "Pay for expedited offloading and customs clearance.", outcome: "You secure a 'hot berth' at the port, allowing the ship to be offloaded immediately. The extra cost is significant, but production is saved. The client is impressed by your proactive solution.", scoreChange: +25 },
                    { text: "Contact the port authority to appeal for priority.", outcome: "The port authority is sympathetic but unable to prioritize your single container due to the volume of traffic. The shipment remains stuck, and production halts.", scoreChange: -20 },
                    { text: "Charter a smaller vessel to transfer the cargo.", outcome: "Chartering a new vessel is complex and costly, and the transfer process itself is slow. By the time the cargo is moved, it's too late to prevent the production shutdown.", scoreChange: -15 },
                    { text: "Wait for the normal unloading schedule.", outcome: "The wait lasts for three days. The client's factory shuts down, resulting in massive financial losses and a damaged relationship. A catastrophic failure.", scoreChange: -50 }
                ]
            },
            {
                title: "Perishable Goods Breakdown",
                situation: "A refrigerated truck carrying a high-value shipment of fresh seafood has broken down in a remote, rural area. The temperature in the trailer is rising, and the cargo will spoil within 6 hours. The nearest repair service is 3 hours away.",
                options: [
                    { text: "Dispatch a new refrigerated truck immediately for a transfer.", outcome: "You send a replacement truck, which arrives just in time to salvage the cargo. The transfer is completed successfully, and the shipment arrives with minimal loss. A swift and effective solution.", scoreChange: +30 },
                    { text: "Instruct the driver to try and find a local mechanic.", outcome: "The driver wastes valuable time searching for a local mechanic, who is not equipped for the repair. The cargo spoils completely, and the entire shipment is a write-off.", scoreChange: -40 },
                    { text: "Try to get the original truck repaired on-site.", outcome: "The repair team takes too long to arrive and diagnose the problem. The cargo spoils due to the delay, resulting in a total loss.", scoreChange: -25 },
                    { text: "Have the driver pack the fish in dry ice from a local store.", outcome: "The driver finds a small amount of dry ice, which slows the spoilage but does not prevent it. Half of the cargo is lost, and the client is very unhappy.", scoreChange: -20 }
                ]
            },
            {
                title: "Missing Customs Paperwork",
                situation: "A large shipment of advanced robotics equipment is held at a major international customs checkpoint. The reason: a crucial Certificate of Origin is missing from the manifest. Your client is on a tight deadline to install the equipment for a new production line.",
                options: [
                    { text: "Work with the client to obtain a digital copy and submit it immediately.", outcome: "You collaborate with the client and their supplier to secure the document digitally. It's submitted and accepted by customs, and the shipment is released within 12 hours. A quick and efficient resolution.", scoreChange: +20 },
                    { text: "Fly a courier with the physical document to the checkpoint.", outcome: "You hire an expensive courier to hand-deliver the document. The process is slow and costly, and the shipment is delayed by 2 days, impacting the client's schedule.", scoreChange: -10 },
                    { text: "Attempt to argue with the customs agent and bypass the requirement.", outcome: "The customs agent is firm. Your attempt to bypass the rules fails, and the shipment is flagged for a deeper inspection, causing significant additional delays and fines.", scoreChange: -30 },
                    { text: "Send a new shipment with the correct paperwork.", outcome: "This is a massive and unnecessary expense. The new shipment takes weeks to arrive, and your company takes a massive financial hit. An absolute worst-case scenario.", scoreChange: -50 }
                ]
            },
            {
                title: "Approaching Snowstorm",
                situation: "A major snowstorm is forecasted to hit your main distribution center in 12 hours, threatening to shut down all ground transportation for days. You have hundreds of outbound deliveries scheduled, including several for time-sensitive retail partners.",
                options: [
                    { text: "Expedite all outbound shipments immediately before the storm hits.", outcome: "You work with the team to prioritize and dispatch every possible shipment. Most of the cargo is cleared before the snow arrives, mitigating major delays. A smart, proactive decision.", scoreChange: +25 },
                    { text: "Wait to see if the forecast changes before taking action.", outcome: "The storm hits as predicted, and all deliveries are shut down for three days. You face major customer complaints and contract penalties. A costly failure of judgment.", scoreChange: -40 },
                    { text: "Rent additional storage space to hold the delayed shipments.", outcome: "While the cargo is safe, you are now paying for unnecessary storage, and the deliveries are still delayed. The approach is too passive to solve the core problem.", scoreChange: -10 },
                    { text: "Dispatch only the most critical shipments, holding the rest.", outcome: "This approach only partially solves the problem. While a few clients are happy, many are left waiting. You receive mixed feedback and your efficiency is called into question.", scoreChange: +5 }
                ]
            },
            {
                title: "Carrier Strike",
                situation: "One of your primary freight carriers, responsible for 40% of your deliveries in the Midwest, announces a sudden, indefinite labor strike. You have a high volume of goods already in their network and many more waiting to be picked up.",
                options: [
                    { text: "Activate contingency plans with backup carriers and re-route all existing shipments.", outcome: "Your pre-planned contingency works flawlessly. You quickly reroute shipments to alternative carriers, and while there are minor delays, the disruption is contained. Excellent risk management.", scoreChange: +30 },
                    { text: "Negotiate with the carrier to continue service for your specific shipments.", outcome: "The carrier is unwilling to make exceptions during the strike. Your request is denied, and your shipments are now stuck with no plan B. A naive and costly mistake.", scoreChange: -30 },
                    { text: "Wait for the strike to be resolved through negotiations.", outcome: "The strike lasts for two weeks. All shipments are delayed, and you lose significant business. Your inaction leads to a major crisis.", scoreChange: -50 },
                    { text: "Offer a premium to a new carrier to take all your volume.", outcome: "A new carrier takes your volume but cannot handle the sudden surge. Their service is poor, and many packages are lost or arrive damaged. A poor emergency fix.", scoreChange: -20 }
                ]
            },
            {
                title: "Sudden Demand Spike",
                situation: "Your company just launched a viral marketing campaign for a new gadget. Online orders surge, and your main warehouse runs out of stock in just one day. The product is in high demand, and customers are waiting impatiently for their orders.",
                options: [
                    { text: "Transfer stock from a regional warehouse and expedite shipping.", outcome: "You quickly identify a regional warehouse with excess stock. You arrange for express shipping to fulfill the online orders, satisfying most customers. A rapid and effective response.", scoreChange: +25 },
                    { text: "Announce that the product is back-ordered with a new shipping date.", outcome: "You manage customer expectations, but many cancel their orders due to the delay. While a safe option, it results in lost sales and customer dissatisfaction.", scoreChange: -15 },
                    { text: "Produce more products and wait for the next batch to be ready.", outcome: "It takes weeks to produce a new batch. By the time it's ready, the viral buzz has died down, and you have lost a huge sales opportunity. A major strategic blunder.", scoreChange: -40 },
                    { text: "Offer a similar product from a different manufacturer.", outcome: "The substitute product does not have the same features, and customers who receive it are frustrated. Your company's reputation for quality is damaged. A bad solution.", scoreChange: -20 }
                ]
            },
            {
                title: "Supplier Bankruptcy",
                situation: "Your sole supplier for a critical component used in your main product has filed for bankruptcy and is halting production. You have only enough components on hand for two weeks of manufacturing. Finding a new supplier will take time.",
                options: [
                    { text: "Immediately secure a small emergency order from a new, more expensive supplier to bridge the gap.", outcome: "You pay a premium for a quick, small order from a new supplier. This buys you time to vet and onboard a permanent supplier, preventing a production shutdown. A smart short-term fix.", scoreChange: +25 },
                    { text: "Attempt to buy the remaining inventory from the bankrupt supplier.", outcome: "You manage to purchase a small amount of inventory, but it is not enough to prevent a manufacturing halt. The action provides only a few days of relief.", scoreChange: -10 },
                    { text: "Shift manufacturing to another product line until a new supplier is found.", outcome: "Your production team is now idle for several weeks, and you lose market share to competitors who are still producing. This leads to major financial losses and wasted resources.", scoreChange: -40 },
                    { text: "Rely on your team to find a new supplier and hope for the best.", outcome: "Your team is overwhelmed and takes too long to find a viable new supplier. Your manufacturing line goes idle, and you lose critical revenue. A passive, failing strategy.", scoreChange: -30 }
                ]
            },
            {
                title: "Drone Delivery Challenge",
                situation: "A drone carrying a small, high-value medical implant is nearing its destination when a remote diagnostic indicates low battery power. It's too far to return to the hub, and a crash is imminent. The implant must not be damaged.",
                options: [
                    { text: "Locate a safe landing zone and dispatch a runner to retrieve the package.", outcome: "You use the drone's GPS to find a safe, open field for a soft landing. A local runner is dispatched and successfully retrieves the undamaged package. A clever and effective solution.", scoreChange: +35 },
                    { text: "Attempt to manually pilot the drone back to the hub.", outcome: "The drone loses power mid-flight, crashes, and is destroyed. The high-value medical implant is a complete loss. A high-risk gamble that did not pay off.", scoreChange: -45 },
                    { text: "Instruct the drone to hover in place and wait for a rescue team.", outcome: "The drone continues to use battery power while hovering. It falls from the sky due to a complete power loss, and the package is damaged. A poor choice.", scoreChange: -25 },
                    { text: "Instruct the drone to jettison the package with a parachute.", outcome: "The package lands safely but in an unsecure location. By the time a retrieval team arrives, the package is gone. The cargo is lost. A desperate measure with bad results.", scoreChange: -30 }
                ]
            },
            {
                title: "International Flight Cancellation",
                situation: "An international cargo flight carrying an entire line of high-fashion clothing is canceled due to an engine fault. The clothing is for a major fashion show happening in two days, and there is no time to spare.",
                options: [
                    { text: "Book space on the next available flight from a different carrier.", outcome: "You secure space on a competitor's flight. While there are some minor logistical challenges, the shipment arrives in time for the show. A resourceful and successful fix.", scoreChange: +20 },
                    { text: "Charter a private cargo jet for the shipment.", outcome: "You charter a private jet, which is extremely expensive. While the shipment arrives on time, the cost far outweighs the profit from the goods. A poor financial decision.", scoreChange: -10 },
                    { text: "Try to find an air carrier that can make an unscheduled flight.", outcome: "You spend valuable hours trying to find an air carrier, but none can offer an unscheduled flight on such short notice. The shipment is critically delayed.", scoreChange: -30 },
                    { text: "Wait for the original flight to be repaired and rescheduled.", outcome: "The airline takes two days to repair the engine and reschedule the flight. The shipment arrives too late, and the fashion show is a failure. An unacceptable delay.", scoreChange: -40 }
                ]
            }
        ];

        let score = 100;
        let currentSituationIndex = 0;
        let currentOptions = []; // Stores the shuffled options for the current question

        const scoreElement = document.getElementById('score');
        const situationNumberElement = document.getElementById('situation-number');
        const situationTextElement = document.getElementById('situation-text');
        const optionButtons = document.querySelectorAll('.option-btn');
        const outcomeContainer = document.getElementById('outcome-container');
        const outcomeTextElement = document.getElementById('outcome-text');
        const nextSituationBtn = document.getElementById('next-situation-btn');
        const scoreChangeIndicator = document.getElementById('score-change-indicator');

        // Function to update the score display with a transition
        function updateScoreDisplay(newScore, change) {
            const isPositive = change > 0;
            scoreElement.textContent = newScore;
            scoreChangeIndicator.textContent = `${isPositive ? '+' : ''}${change}`;
            scoreChangeIndicator.classList.remove('text-green-600', 'text-red-600', 'opacity-0');
            scoreChangeIndicator.classList.add(isPositive ? 'text-green-600' : 'text-red-600', 'fade-in');
            setTimeout(() => {
                scoreChangeIndicator.classList.add('opacity-0');
            }, 1000);
        }

        // Function to load the current situation (UPDATED for randomization)
        function loadSituation() {
            if (currentSituationIndex >= situations.length) {
                showFinalScore();
                return;
            }
            const situation = situations[currentSituationIndex];
            
            // --- Shuffle the options for randomization ---
            currentOptions = shuffleArray([...situation.options]);
            // ---------------------------------------------

            // Hide outcome and button
            outcomeContainer.classList.add('hidden');
            nextSituationBtn.classList.add('hidden');
            
            // Reset buttons and their listeners
            optionButtons.forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
                // The hover class needs to be dynamic or use a utility class that relies on the CSS variable.
                // For simplicity, we keep the utility classes and rely on the CSS variable override.
                btn.classList.add('transition-colors', 'transform', 'hover:scale-105', 'duration-200');
            });
            
            // Set situation number and text
            situationNumberElement.textContent = currentSituationIndex + 1;
            situationTextElement.classList.remove('fade-in');
            void situationTextElement.offsetWidth; // Trigger reflow to restart animation
            situationTextElement.textContent = situation.situation;
            situationTextElement.classList.add('fade-in');

            // Set option button texts using the SHUFFLED array
            currentOptions.forEach((option, index) => {
                optionButtons[index].textContent = option.text;
            });
        }

        // Function to handle option clicks (UPDATED for randomization)
        function handleOptionClick(event) {
            // Disable all option buttons after a choice is made
            optionButtons.forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('transition-colors', 'transform', 'hover:scale-105', 'duration-200');
                btn.classList.add('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
                // Remove inline style on disabled buttons for neutral gray look
                btn.style.backgroundColor = ''; 
            });
            
            const optionIndex = parseInt(event.target.dataset.optionIndex, 10);
            
            // --- Use the SHUFFLED options array to get the result ---
            const chosenOption = currentOptions[optionIndex];
            // --------------------------------------------------------
            
            // Update score and display change
            score += chosenOption.scoreChange;
            updateScoreDisplay(score, chosenOption.scoreChange);

            // Display outcome
            outcomeTextElement.textContent = chosenOption.outcome;
            outcomeContainer.classList.remove('hidden');
            nextSituationBtn.classList.remove('hidden');
        }

        // --- UPDATED FINAL SCORE FUNCTION ---
        function showFinalScore() {
            // Save the final score and the profession to local storage
            localStorage.setItem('finalScore', score);
            localStorage.setItem('profession', 'Logistics Coordinator Simulator');
            
            // Redirect the user to the static results page
            window.location.href = `/leaderlab-results/?score=${score}`;
        }
        // ----------------------------------------------

        // Attach event listeners
        optionButtons.forEach(btn => {
            btn.addEventListener('click', handleOptionClick);
        });

        nextSituationBtn.addEventListener('click', () => {
            currentSituationIndex++;
            loadSituation();
        });

        // Initial load
        loadSituation();
    });
</script>